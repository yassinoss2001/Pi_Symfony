{% extends 'FooterHeader.html.twig' %}

{% block title %}
    <title>Espace Recettes</title>
{% endblock %}

{% block body %}
    <style>
        .create-new-button {
           display: block; /* Convertir en bloc pour la marge supérieure */
        margin-top: 49px; /* Ajouter de l'espace en haut du bouton */
            padding: 10px 20px;
            background-color: #4CAF50; /* Green background */
            color: white;
            text-align: center;
            text-decoration: none;
            font-size: 16px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        .create-new-button:hover {
            background-color: #45a049; /* Darker green on hover */
        }

        /* Fixed image size */
        .card-banner img {
            width: 369px;
            height: 240px;
        }
      .blog-card .card-banner {
    position: relative;
    aspect-ratio: 2 / 0.65;
    background-color: var(--gainsboro);
}
.align-left {
    float: left;
    margin-right: -136px; /* Ajoutez une marge à droite si nécessaire */
}
 /* Styles for the search form */
    .search-form {
        text-align: center; /* Centrer le contenu du formulaire */
        margin-bottom: 20px; /* Espacement en bas pour l'esthétique */
    }

    .search-form input[type="text"] {
        padding: 10px; /* Ajouter un peu de rembourrage pour une meilleure apparence */
        width: 70%; /* Largeur du champ de recherche */
        border: 1px solid #ccc; /* Bordure légère autour du champ */
        border-radius: 5px; /* Coins arrondis */
        display: inline-block; /* Afficher en ligne avec le bouton */
        vertical-align: middle; /* Aligner verticalement au centre */
        box-sizing: border-box; /* Inclure la taille de la bordure dans la largeur */
        background-color: white;
    }

    .search-form button[type="submit"] {
        padding: 10px 20px; /* Rembourrage pour le bouton */
        background-color: red; /* Couleur de fond rouge */
        color: white; /* Texte blanc */
        border: none; /* Pas de bordure */
        border-radius: 5px; /* Coins arrondis */
        cursor: pointer; /* Curseur de souris */
        display: inline-block; /* Afficher en ligne avec le champ de saisie */
        vertical-align: middle; /* Aligner verticalement au centre */
    }

    .search-form button[type="submit"]:hover {
        background-color: darkred; /* Couleur plus foncée au survol */
    }
    </style>
    <main>
        <section class="section section-divider white blog" id="blog">
            <div class="container">
<a href="{{ path('app_recette_liste') }}" class="create-new-button align-left">Mes Recettes</a>

                <p class="section-subtitle">Derniers Articles </p>
                <h2 class="h2 section-title">
                    Espace<span class="span">Recettes</span>
                </h2>
                <p class="section-text">Explorez les délicieuses créations de nos clients et découvrez de nouvelles recettes à essayer chez vous !</p>
<form action="{{ path('app_recette_search') }}" method="post" class="search-form">
    <input type="text" name="search_title" placeholder="Rechercher par titre...">
    <button type="submit">Rechercher</button>
</form>
                <ul class="blog-list">
{% for recette in recettes|slice(0, 9) %}
                        <li>
                            <div class="blog-card">
                                <div class="card-banner">
                                    <img src="{{ asset('uploads/images/' ~ recette.image) }}" alt="{{ recette.titre }}" class="w-100" loading="lazy">
                                </div>
                                <div class="card-content">
                                    <div class="card-meta-wrapper">
                                        <a href="#" class="card-meta-link">
                                            <ion-icon name="person-outline"></ion-icon>
                                            {% if recette.idUser is not null %}
                                                <p class="meta-info">Author: {{ recette.idUser.nom }}</p>
                                            {% else %}
                                                <p class="meta-info">Author: Unknown</p>
                                            {% endif %}
                                        </a>
                                    </div>
                                    <h3 class="h3">
                                        <a href="#" class="card-title">{{ recette.titre }}</a>
                                    </h3>
                                    <p class="card-text">{{ recette.description }}</p>
                                    <a href="{{ path('app_recette_show', {'id': recette.id}) }}" class="btn-link">
                                        <span>Lire la suite</span>
                                        <ion-icon name="arrow-forward" aria-hidden="true"></ion-icon>
                                    </a>
                                    
                                </div>
                            </div>
                        </li>
                    {% else %}
          <p>Aucune recette trouvée.</p>
                    {% endfor %}
                </ul>
                <a href="{{ path('app_recette_new') }}" class="create-new-button">Create new</a>
            </div>
        </section>
    </main>
    
{% endblock %}
