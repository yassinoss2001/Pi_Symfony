{% extends 'baseBack.html.twig' %}

{% block title %}Commande index{% endblock %}

{% block content %}
<br>
<br>
<br>
    <div class="row">
                            <div class="col-lg-12">
                                <div class="card">
                                    <div class="card-body">
                                        <h4 class="card-title mb-4">Liste Commandes</h4>
                                        <div class="table-responsive">
                                   <table class="table align-middle table-nowrap mb-0">
                                                <thead class="table-light">
                                                    <tr>
                                                        <th style="width: 20px;">
                                                            <div class="form-check font-size-16 align-middle">
                                                                <input class="form-check-input" type="checkbox" id="transactionCheck01">
                                                                <label class="form-check-label" for="transactionCheck01"></label>
                                                            </div>
                                                        </th>
            
                <th>IdClient</th>
                <th>IdMenu</th>
                <th>Adresse</th>
                <th>Longitude</th>
                <th>Latitude</th>
                <th>DateCommande</th>
                <th>EtatCommande</th>
                <th>ModePayement</th>
                <th>Remarque</th>
                <th>actions</th>
            </tr>
        </thead>
        <tbody>
        {% for commande in commandes %}
            <tr>
                 <td>
                                                            <div class="form-check font-size-16">
                                                                <input class="form-check-input" type="checkbox" id="transactionCheck02">
                                                                <label class="form-check-label" for="transactionCheck02"></label>
                                                            </div>
                                                        </td>
                <td>{{ commande.idClient }}</td>
                <td>{{ commande.idMenu }}</td>
                <td>{{ commande.adresse }}</td>
                <td>{{ commande.longitude }}</td>
                <td>{{ commande.latitude }}</td>
                <td>{{ commande.dateCommande ? commande.dateCommande|date('Y-m-d H:i:s') : '' }}</td>
                <td>{{ commande.etatCommande }}</td>
                <td>{{ commande.modePayement }}</td>
                <td>{{ commande.remarque }}</td>
                <td>
                {% if commande.etatCommande == "En Preparation" %}
                   
                    <a style="color:red;" href="{{ path('app_commande_decline', {'id': commande.id}) }}">Annuler</a>
                    
                     <a href="{{ path('app_commande_accept', {'id': commande.id}) }}">Accepter</a>
                     {% endif %}
                       {{ include('commande/_delete_form.html.twig') }}
                </td>
            </tr>
        {% else %}
            <tr>
                <td colspan="11">no records found</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

      </div>

                                                                     

                                    </div>
                                </div>
                            </div>
                        </div>
{% endblock %}
